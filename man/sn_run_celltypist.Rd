% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/integrate.R
\name{sn_run_celltypist}
\alias{sn_run_celltypist}
\title{Run CellTypist for automated cell type annotation}
\usage{
sn_run_celltypist(
  x,
  celltypist = NULL,
  model = "Immune_All_Low.pkl",
  outdir = NULL,
  prefix = NULL,
  mode = c("best_match", "prob_match"),
  p_thres = 0.5,
  majority_voting = TRUE,
  over_clustering = "auto",
  min_prop = 0,
  transpose_input = TRUE,
  gene_file = NULL,
  cell_file = NULL,
  xlsx = FALSE,
  plot_results = FALSE,
  quiet = FALSE
)
}
\arguments{
\item{x}{A Seurat object or a path to a count matrix / AnnData file that CellTypist can consume.}

\item{celltypist}{Path to the `celltypist` binary. Defaults to "/opt/mambaforge/envs/scverse/bin/celltypist".}

\item{model}{Model used for predictions. Defaults to "Immune_All_Low.pkl".}

\item{outdir}{Directory to store the output files. If NULL, use a temporary directory.}

\item{prefix}{Prefix for the output files. By default, use the model name plus a dot.}

\item{mode}{Choose the cell type with the largest score/probability (`"best_match"`) or enable multi-label classification (`"prob_match"`).}

\item{p_thres}{Probability threshold for the multi-label classification. Ignored if `mode = "best_match"`.}

\item{majority_voting}{Logical. Whether to refine labels using majority voting after over-clustering.}

\item{over_clustering}{Input file or a string key specifying an existing metadata column in the AnnData object, or "auto".}

\item{min_prop}{For the dominant cell type within a subcluster, the minimum proportion of cells required to name the subcluster by this cell type.}

\item{transpose_input}{Logical. If `TRUE`, add the `--transpose-input` argument when calling `celltypist`.}

\item{gene_file}{If the provided input is in the `mtx` format, path to the file storing gene information. Otherwise ignored.}

\item{cell_file}{If the provided input is in the `mtx` format, path to the file storing cell information. Otherwise ignored.}

\item{xlsx}{Logical. If `TRUE`, merge output tables into a single Excel (.xlsx). Defaults to `FALSE`.}

\item{plot_results}{Logical. If `TRUE`, plot the prediction results. Defaults to `FALSE`.}

\item{quiet}{Logical. If `TRUE`, hide the banner and config info from `celltypist`. Defaults to `FALSE`.}
}
\value{
A Seurat object with three new columns in its metadata: `_predicted_labels`, `_over_clustering`, `_majority_voting`.
}
\description{
Run CellTypist for automated cell type annotation
}
